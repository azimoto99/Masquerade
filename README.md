```
‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ïó‚ñë‚ñë‚ñë‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù
‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë
‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñë‚ïö‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù‚ñë‚ñë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù‚ñë‚ñë
‚ñà‚ñà‚ïë‚ñë‚ïö‚ïê‚ïù‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñë‚ïö‚ïê‚ñà‚ñà‚ïî‚ïê‚ïù‚ñë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ïö‚ïê‚ïù‚ñë‚ñë‚ñë‚ñë‚ñë‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ñë‚ñë‚ñë‚ïö‚ïê‚ïù‚ñë‚ñë‚ñë‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

# üè∞ **Masquerade Mansion** üëª

> *A thrilling social deduction game set in a haunted Victorian mansion, where mystery, deception, and supernatural terror collide in an unforgettable Discord experience.*

## üé≠ **What is Masquerade Mansion?**

**Masquerade Mansion** is a sophisticated social deduction game designed as a Discord Activity, where 6-10 players attend what appears to be a glamorous masquerade ball in a mysterious Victorian mansion. Beneath the surface of elegance and revelry lies a web of intrigue, supernatural occurrences, and hidden agendas.

### üïØÔ∏è **The Premise**
You arrive at the opulent Masquerade Mansion for what promises to be the social event of the season. Everyone wears elaborate masks and costumes, their true identities hidden behind layers of mystery. But as the night unfolds, strange occurrences begin to plague the party. Chandeliers swing wildly, cold drafts fill the air, and whispers echo through empty hallways.

One guest is not what they seem... **One player is secretly the Ghost**, an otherworldly entity intent on scaring away all the party guests before their true identity is revealed.

### üé≠ **The Twist**
While the Ghost works to create terror and drive everyone from the mansion, **every other player has their own secret agenda** that uniquely interacts with the Ghost's presence. Some players want to expose the Ghost, others want to exploit it, and a few might even benefit from the chaos. The result is a complex web of alliances, betrayals, and conflicting objectives that make every game session uniquely memorable.

## üéØ **Core Gameplay**

### **Real-time Social Deduction**
- **6-10 Players** in voice-enabled sessions
- **15-20 minute** intense gameplay sessions
- **Discord Native** - runs directly in Discord channels
- **Voice Communication** - discuss, accuse, and negotiate in real-time

### **Dynamic Role System**
Choose from **9 unique roles**, each with distinct objectives and abilities that revolve around the Ghost:

#### üëª **The Ghost** (Antagonist)
*Secretly haunts the mansion, using supernatural abilities to scare guests away*
- **Haunt Room**: Create eerie atmospheres that build fear
- **Major Scare**: Dramatic events that terrify multiple players
- **Lockdown**: Trap players in rooms for terrifying isolation
- **Lights Out**: Plunge areas into darkness to amplify terror

#### üïµÔ∏è **Investigators** (Town Roles)
- **Detective**: Unmask players and call emergency meetings
- **Blackmailer**: Extort the Ghost or gather compromising secrets
- **Medium**: Sense supernatural activity and commune with spirits
- **Exorcist**: Collect ritual components to banish the Ghost
- **Skeptic**: Debunk hauntings and expose fraudulent activity
- **Insurance Investigator**: Document evidence for professional gain
- **Paranormal Investigator**: Capture supernatural phenomena

### üèõÔ∏è **The Mansion**
Explore **12 interconnected rooms** of a sprawling Victorian mansion:
- **Grand Ballroom** - Central hub with a precarious chandelier
- **Library** - Bookshelves hide secrets and ritual components
- **Wine Cellar** - Dark, claustrophobic tunnels with echoing acoustics
- **Master Bedroom** - Personal spaces with breakable mirrors
- **Chapel** - Sacred ground for exorcism rituals
- **And 7 more** unique locations, each with environmental hazards and strategic opportunities

### üé≤ **Game Mechanics**

#### **Fear System**
Every player has a **Fear Meter (0-100%)** that rises based on:
- Proximity to Ghost activity
- Time spent in dark areas
- Isolation from other players
- Failed objectives and accusations

When fear reaches 100%, players **flee the mansion** - eliminated but able to spectate.

#### **Ability System**
Each role has **unique abilities** with cooldowns:
- **Active Abilities**: Triggered actions (hauntings, investigations)
- **Passive Abilities**: Always-active effects (fear sensing, activity detection)
- **Ultimate Abilities**: Powerful one-time effects (exorcisms, exposures)

#### **Evidence & Deduction**
- **Environmental Clues**: "Cold air detected in the Wine Cellar"
- **Behavioral Evidence**: Witnessed actions and suspicious timing
- **Supernatural Residue**: Detectable traces of Ghost activity
- **Social Pressure**: Accusations, alliances, and betrayals

### üèÜ **Win Conditions**
**Ghost Wins:** Scare all players away OR survive until time runs out

**Town Roles Win Differently:**
- **Detective/Skeptic**: Publicly expose the Ghost
- **Blackmailer**: Successfully extort the Ghost
- **Exorcist**: Complete banishment ritual
- **Medium**: Correctly identify the Ghost privately
- **Paranormal Investigator**: Document sufficient supernatural evidence
- **Insurance Investigator**: File accurate haunting assessment

## üåü **Why Masquerade Mansion?**

### **Unique Social Dynamics**
Unlike traditional social deduction games, **every role has a unique relationship with the Ghost**, creating complex incentive structures:
- Some players **benefit from Ghost activity** and want it to continue
- Others **want the Ghost exposed** but at different times
- A few might **exploit the Ghost** for personal gain
- This creates **emergent alliances** that shift throughout the game

### **Atmospheric Immersion**
- **Gothic Victorian Aesthetic** with intricate details
- **Dynamic Lighting** that responds to supernatural activity
- **Spatial Audio** with room-specific acoustics
- **Visual Effects** for hauntings, scares, and revelations

### **Discord-Optimized**
- **Native Integration** - runs in Discord overlay
- **Voice Chat Built-in** - no external communication needed
- **Easy Setup** - invite friends and start playing instantly
- **Cross-Platform** - works on desktop and mobile Discord

### **Replayability**
- **Asymmetric Roles** - different experience each game
- **Emergent Stories** - every session creates unique narratives
- **Strategic Depth** - multiple paths to victory
- **Quick Sessions** - perfect for gaming communities

## üéÆ **Quick Start**

### For Players
1. **Join a Discord Server** with Masquerade Mansion
2. **Click the Activity Button** in a voice channel
3. **Select your role** and costume
4. **Explore, investigate, and survive** the haunted night!

### For Server Admins
1. **Add the Activity** to your Discord server
2. **Set up a voice channel** for gameplay
3. **Invite 6-10 players** for optimal experience
4. **Start the game** and watch the chaos unfold!

## Quick Start

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd masquerade-mansion
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up Discord Application**
   - Go to [Discord Developer Portal](https://discord.com/developers/applications)
   - Create a new application or select existing one
   - In "General Information" section, collect:
     - **Application ID** (copy this value)
     - **Public Key** (copy this value)
     - **Client Secret** (copy this value - keep it secret!)

4. **Configure environment variables**
   ```bash
   cp .env.example .env
   # Edit .env and replace the placeholder values:
   # VITE_DISCORD_CLIENT_ID=your-actual-application-id
   # VITE_DISCORD_PUBLIC_KEY=your-actual-public-key
   # DISCORD_CLIENT_SECRET=your-actual-client-secret
   ```

   **Discord Credentials Explanation:**
   - **Application ID**: Used by the client-side Activity to identify your app
   - **Public Key**: Used for verifying Discord webhooks (server-side validation)
   - **Client Secret**: Used for server-side API authentication (never expose in client code!)
   - **Note**: For client-side Activities, you mainly need the Application ID. The Public Key and Client Secret are for future server integration.

5. **Start development server**
   ```bash
   npm run dev
   ```

## Game Roles

### Ghost (Antagonist)
- **Haunt Room**: Create fear in targeted areas
- **Major Scare**: Dramatic events affecting multiple players
- **Lockdown**: Trap players in rooms
- **Lights Out**: Disable lighting in multiple areas

### Investigator Roles
- **Detective**: Reveal player identities with investigation
- **Blackmailer**: Extort the Ghost and send anonymous messages
- **Medium**: Sense Ghost presence and commune for clues
- **Exorcist**: Collect ritual items to banish the Ghost
- **Skeptic**: Debunk hauntings and catch the Ghost in the act
- **Insurance Investigator**: Gather evidence for neutral objectives
- **Paranormal Investigator**: Document supernatural phenomena

## Architecture

### Tech Stack
- **Frontend**: React 18 + TypeScript + Canvas API
- **State Management**: Zustand for game state
- **Real-time**: Socket.IO for multiplayer sync
- **Discord Integration**: Discord Embedded App SDK
- **Build Tool**: Vite for fast development

### Project Structure
```
src/
‚îú‚îÄ‚îÄ components/          # React components
‚îÇ   ‚îú‚îÄ‚îÄ game/           # Game-specific components
‚îÇ   ‚îú‚îÄ‚îÄ ui/             # User interface components
‚îÇ   ‚îî‚îÄ‚îÄ rooms/          # Room-specific components
‚îú‚îÄ‚îÄ systems/            # Game logic systems
‚îú‚îÄ‚îÄ types/              # TypeScript type definitions
‚îú‚îÄ‚îÄ hooks/              # Custom React hooks
‚îú‚îÄ‚îÄ utils/              # Utility functions
‚îî‚îÄ‚îÄ assets/             # Game assets
```

## Development

### Available Scripts
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint
- `npm run lint:fix` - Fix ESLint issues

### Key Systems

#### Fear System
Dynamic fear meter that increases based on:
- Ghost abilities in the same room
- Isolation (being alone)
- Dark environments
- Failed objectives

#### Movement System
- Point-and-click navigation
- Collision detection
- Room transitions
- Line-of-sight calculations

#### Ability Framework
Modular ability system supporting:
- Instant effects
- Channeled abilities
- Cooldown management
- Range validation
- Target selection

---

## üîß **Technical Setup** *(For Developers & Server Admins)*

### Prerequisites
- **Node.js 18+** and npm
- **Discord Application** with Activities enabled
- **Web hosting** for deployment

### Local Development
```bash
# Clone and setup
git clone https://github.com/azimoto99/Masquerade.git
cd Masquerade
npm install

# Configure Discord credentials
cp .env.example .env
# Edit .env with your Discord Application ID, Public Key, and Client Secret

# Start development
npm run dev
```

### Discord Application Setup
1. Visit [Discord Developer Portal](https://discord.com/developers/applications)
2. Create/select your application
3. Copy from **General Information**:
   - `VITE_DISCORD_CLIENT_ID` ‚Üê **Application ID**
   - `VITE_DISCORD_PUBLIC_KEY` ‚Üê **Public Key**
   - `DISCORD_CLIENT_SECRET` ‚Üê **Client Secret** *(server-side only)*

### Deployment
1. **Build for production**: `npm run build`
2. **Deploy** the `dist/` folder to your web server
3. **Configure Activity URL** in Discord Developer Portal
4. **Test** in Discord client

### Available Scripts
```bash
npm run dev         # Start development client only
npm run server      # Start multiplayer server only
npm run dev:full    # Start both client and server concurrently
npm run build       # Build for production
npm run preview     # Preview production build
npm run lint        # Code quality checks
npm run format      # Code formatting
```

### Multiplayer Setup

For multiplayer functionality, you need both the client and server running:

1. **Start the multiplayer server:**
   ```bash
   npm run server
   # Server runs on http://localhost:3001
   ```

2. **Start the client (in another terminal):**
   ```bash
   npm run dev
   # Client runs on http://localhost:3000
   ```

3. **Or run both together:**
   ```bash
   npm run dev:full
   ```

4. **Play multiplayer:**
   - Open the game in your browser
   - Select "Multiplayer" mode in the lobby
   - Enter your name and optionally a room ID
   - Click "Join Game" to enter a multiplayer room
   - Share the room ID with friends to play together

**Note:** The server must be running for multiplayer to work. Single-player mode works without the server.

## ü§ù **Contributing**

We welcome contributions! This project is open source and community-driven.

### Ways to Contribute
- **Bug Reports**: Found an issue? [Open an issue](https://github.com/azimoto99/Masquerade/issues)
- **Feature Requests**: Have ideas? [Start a discussion](https://github.com/azimoto99/Masquerade/discussions)
- **Code Contributions**: See our [development roadmap](IMPLEMENTATION_OVERVIEW.md)
- **Art & Design**: Help with visual assets and UI improvements

### Development Process
1. Fork the repository
2. Create feature branch: `git checkout -b feature/amazing-feature`
3. Make changes and test thoroughly
4. Submit Pull Request with detailed description

### Project Structure
```
src/
‚îú‚îÄ‚îÄ components/     # React components
‚îú‚îÄ‚îÄ systems/        # Game logic systems
‚îú‚îÄ‚îÄ types/         # TypeScript definitions
‚îú‚îÄ‚îÄ utils/         # Helper functions
‚îî‚îÄ‚îÄ assets/        # Game assets
```

## üìÑ **Documentation**

- **[Technical Architecture](TECHNICAL_ARCHITECTURE.md)** - System design and tech stack
- **[Core Mechanics](CORE_MECHANICS.md)** - Fear system, movement, abilities
- **[Mansion Layout](MANSION_LAYOUT.md)** - Room designs and navigation
- **[Role Abilities](ROLE_ABILITIES.md)** - Complete ability specifications
- **[UI System](UI_SYSTEM.md)** - Interface design for Discord overlay
- **[Art Style Guide](ART_STYLE_GUIDE.md)** - Visual design specifications
- **[Implementation Overview](IMPLEMENTATION_OVERVIEW.md)** - Development roadmap

## üìú **License**

This project is licensed under the **ISC License** - see the LICENSE file for details.

## üôè **Acknowledgments**

- **Inspired by** classic social deduction games like Among Us and Werewolf
- **Visual aesthetic** draws from Gothic Victorian literature and mystery
- **Built with** modern web technologies optimized for Discord's platform
- **Community-driven** development with contributions welcome

---

**Ready to experience the terror?** Join a Discord server with Masquerade Mansion and step into the unknown! üè∞üëªüé≠
